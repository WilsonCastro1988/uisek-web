<div class="wrapper " style="background-image: url(https://static.vecteezy.com/system/resources/previews/000/582/542/non_2x/vector-abstract-template-black-frame-layout-metallic-red-light-on-dark-background-modern-luxury-futuristic-technology-concept.jpg);background-size: cover;">

  <div class="main-panel" style="width: 100% !important;">

    <mdb-navbar SideClass="navbar  navbar-expand-lg navbar-dark scrolling-navbar intro-fixed-nav"
      [containerInside]="false">

      <!-- Navbar brand -->
      <mdb-navbar-brand><a class="navbar-brand" href="#">
          <div>
            <mdb-icon fas icon="user-circle" class="pink-text"></mdb-icon>
            Usuario Logeado : {{userInfo.nombres}} {{userInfo.email}}

          </div>
        </a></mdb-navbar-brand>

      <!-- Collapsible content -->
      <links>

        <!-- Links -->
        <ul class="navbar-nav mr-auto" style="width: inherit;">
        </ul>
        <!-- Links -->

        <ul class="navbar-nav ml-auto nav-flex-icons" style="width: inherit;
        display: flex;
        justify-content: space-evenly;">
          <li class="nav-item">
            <a (click)="modalDatauser.show()" class="white-text">
              <mdb-icon class="pink-text" fas icon="user-edit" mdbTooltip="Editar Info Principal"></mdb-icon>
              Editar
            </a>
          </li>
          <li class="nav-item">
            <a (click)="pasarUsuarioUpdatePassword(userInfo);frame.show()" class="white-text">
              <mdb-icon fas icon="fas fa-key" class="pink-text" mdbTooltip="Cambiar Contraseña"></mdb-icon>
              Cambiar Clave
            </a>
          </li>
          <li class="nav-item">
            <a class="white-text" (click)="authService.logoutUser()" routerLink="#/home">
              <mdb-icon fas icon="sign-out-alt" class="pink-text" mdbTooltip="Salir"></mdb-icon>
              Salir
            </a>
          </li>
        </ul>
      </links>
      <!-- Collapsible content -->

    </mdb-navbar>
    <!--/.Navbar-->

    <div class="content"
      style="margin-top: 3%; background: linear-gradient(0deg, rgba(2,0,36,1) 0%, #d65b85fa 55%, rgba(245,248,249,0.008841036414565795) 80%);">



      



      <div class="row">
        <div class="col-md-12">
          <div class="card ">
            <div class="card-header">
              <div class="">
                <div style="display: flex;justify-content: space-between;">
                  <h5 class="card-title">Materias Disponibles</h5>
                  <button (click)="filtroBuscarusuarios()" mdbBtn type="button" color="dark" mdbWavesEffect
                    size="sm" position="center">
                    <mdb-icon fas icon="paper-plane" class="mr-1"></mdb-icon>Terminar Inscripción
                  </button>
                </div>


                <div style="display: flex;justify-content: center;">
                  <mat-form-field class="col-lg-6">
                    <mat-icon matSuffix class="text-default">factory
                    </mat-icon>
                    <mat-label>Facultad</mat-label>
                    <mat-select [(ngModel)]="facultadSelect" [ngModelOptions]="{standalone: true}" >
                      <mat-option *ngFor="let i of allFacultades" [value]="i">
                        {{i.nombeFacultad}}
                      </mat-option>
                    </mat-select>
                  </mat-form-field>
                  <button (click)="filtroBuscarusuarios()" mdbBtn type="button" color="primary" mdbWavesEffect
                  size="sm" position="center">
                  <mdb-icon fas icon="search" class="mr-1"></mdb-icon>Buscar
                </button>
                </div>
               
              </div>

            </div>
            <div class="card-body ">
              <br />
              <app-management-company></app-management-company>

              

              <canvas id=chartHours width="400" height="100"></canvas>
            </div>
            <div class="card-footer ">
              <hr>
              <div class="stats">
                <i class="fa fa-history"></i> Actualizado hace 3 minutos
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    

  </div>
</div>


<!--Modal cambio de contrasenia-->
<div mdbModal #frame="mdbModal" class="modal fade top" id="frameModalTop" tabindex="-1" role="dialog"
  aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-notify modal-danger" role="document">
    <!--Content-->
    <div class="modal-content">
      <!--Header-->
      <div class="modal-header">
        <p class="heading lead">Cambio de Contraseña</p>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="frame.hide()">
          <span aria-hidden="true" class="white-text">&times;</span>
        </button>
      </div>
      <!--Body-->
      <div class="modal-body">
        <form [formGroup]="validatingForm">

          <div class="md-form form-sm">
            <mdb-icon fas icon="envelope" class="prefix"></mdb-icon>
            <input mdbInput type="text" id="form24" class="form-control" formControlName="modalFormRegisterEmail"
              readonly />
            <label for="form24">Email</label>
          </div>

          <div class="md-form form-sm">
            <mdb-icon fas icon="lock" class="prefix"></mdb-icon>
            <label for="form25"> Nuevo Password</label>
            <input mdbInput mdbValidate type="password" id="form25" class="form-control"
              formControlName="modalFormRegisterPassword"
              [ngClass]="{ 'is-invalid': validatingForm.controls.modalFormRegisterPassword.errors }">
            <div *ngIf="validatingForm.controls.modalFormRegisterPassword.errors" class="invalid-feedback">
              <div *ngIf="validatingForm.controls.modalFormRegisterPassword.errors.required">La contraseña es requerida
              </div>
            </div>
          </div>

          <div class="md-form form-sm">
            <mdb-icon fas icon="lock" class="prefix"></mdb-icon>
            <label for="form26">Confirmar password</label>
            <input mdbInput mdbValidate type="password" id="form26" class="form-control"
              formControlName="modalFormRegisterRepeatPassword" />
            <div *ngIf="validatingForm.controls.modalFormRegisterRepeatPassword.errors" class="invalid-feedback">
              <div *ngIf="validatingForm.controls.modalFormRegisterRepeatPassword.errors.required">Confirme que se
                requiere contraseña
              </div>
              <div *ngIf="validatingForm.controls.modalFormRegisterRepeatPassword.errors.mustMatch">Las contraseñas
                deben coincidir
              </div>
            </div>
          </div>
        </form>
      </div>
      <!--Footer-->
      <div class="modal-footer justify-content-center">
        <a type="button" mdbBtn color="danger" (click)="actualizarPassword();frame.hide()" outline="true"
          class="waves-effect" mdbWavesEffect>Actualizar
          <mdb-icon fas icon="check"></mdb-icon>
        </a>
        <a type="button" mdbBtn size="1x" color="danger" class="waves-effect" mdbWavesEffect (click)="frame.hide()">
          No, gracias</a>
      </div>
    </div>
    <!--/.Content-->
  </div>
</div>
<!--Modal cambio de contrasenia-->


<!-- Modal Confirmar eliminacion de usuario-->
<div mdbModal #basicModal="mdbModal" class="modal fade top modal-scrolling" tabindex="-1" role="dialog"
  aria-labelledby="myBasicModalLabel" aria-hidden="true" [config]="{backdrop: false, ignoreBackdropClick: true}">
  <div class="modal-dialog modal-frame modal-top modal-notify modal-danger modal-side" role="document">
    <div class="modal-content">

      <div class="modal-body">
        <div class="row d-flex justify-content-center align-items-center">

          <h3>
            <mdb-icon fas icon="times" size="2x" class="animated rotateIn"></mdb-icon>
            <span class="badge" style="color: white;">Eliminación !</span>
          </h3>
          <p class="pt-3 mx-4">Está usted seguro en la eliminación del Usuario
            <strong>{{nombreUserElimina}} </strong> ?.</p>

          <a (click)="eliminarUser();basicModal.hide()" type="button" mdbBtn color="danger" class="waves-light"
            mdbWavesEffect>Eliminar
            <mdb-icon fas icon="check" class="ml-1"></mdb-icon>
          </a>
          <a type="button" mdbBtn color="danger" outline="true" class="waves-light" mdbWavesEffect data-dismiss="modal"
            (click)="basicModal.hide()">NO, gracias</a>

        </div>
      </div>
    </div>
  </div>
</div>
<!-- Modal Confirmar eliminacion de usuario-->


<!-- Modal Datos de Usuario Empresa-->
<div mdbModal #modalDatauser="mdbModal" class="modal fade top" id="modalDatauser" tabindex="-1" role="dialog"
  aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-notify modal-primary" role="document">
    <!--Content-->
    <div class="modal-content">
      <!--Header-->
      <div class="modal-header">
        <h6 class="card-title heading lead">Usuario Administrativo</h6>
        <p class="text-muted " style="font-size: 13px"></p>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true" class="white-text">&times;</span>
        </button>
      </div>
      <!--Body-->
      <div class="modal-body">

        <form class="example-form example-container">

          <div class="md-form form-sm">

            <p class="blue-text">
              <mdb-icon fas icon="user-astronaut" class="indigo-text"></mdb-icon>
              Nombre de Usuario
            </p>
            <mat-form-field class="example-full-width" style="display: block;">
              <mat-label>{{userInfo.username}}</mat-label>
              <input matInput placeholder="{{userInfo.username}}">
            </mat-form-field>
          </div>

          <div class="md-form form-sm">
            <p class="blue-text">
              <mdb-icon fas icon="envelope-open" class="pink-text"></mdb-icon>
              Email Empresarial
            </p>
            <mat-form-field class="example-full-width" style="display: block;">
              <mat-label>{{userInfo.email}}</mat-label>
              <input matInput placeholder="{{userInfo.email}}">
            </mat-form-field>
          </div>

          <div class="md-form form-sm">
            <p class="blue-text justify-content-end">
              <mdb-icon fas icon="phone" class="blue-text"></mdb-icon>
              Teléfono de Contacto
            </p>
            <mat-form-field class="example-full-width" style="display: block;">
              <mat-label>{{userInfo.telefono}}</mat-label>
              <input matInput placeholder="{{userInfo.telefono}}">
            </mat-form-field>
          </div>


        </form>
      </div>
      <!--Footer-->
      <div class="modal-footer justify-content-end">
        <a type="button" class="btn btn-primary"><i class="fas fa-user-edit" (click)="modalDatauser.hide()"></i>&nbsp;
          Editar</a>
        <a type="button" class="btn btn-outline-primary waves-effect" (click)="modalDatauser.hide()"><i
            class="fas fa-times-circle"></i>&nbsp; No, Gracias</a>
      </div>
    </div>
    <!--/.Content-->
  </div>
</div>